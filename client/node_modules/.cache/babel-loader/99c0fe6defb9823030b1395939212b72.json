{"ast":null,"code":"const ADD_POST = 'ADD_POST';\nconst ADD_LIKE = 'ADD_LIKE';\nconst CHANGE_NEW_POST_TEXT = 'CHANGE_NEW_POST_TEXT';\nlet initialState = {\n  posts: [{\n    id: 0,\n    text: \"Hello, my dear friend!\",\n    likes: 5\n  }, {\n    id: 1,\n    text: \"Hello, How are You?\",\n    likes: 10\n  }, {\n    id: 2,\n    text: \"Wow\",\n    likes: 0\n  }],\n  newPostText: \"\"\n};\n\nconst postReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_POST:\n      let post = {\n        id: state.posts.length,\n        text: state.newPostText,\n        likes: 0\n      };\n      return { ...state,\n        posts: [...state.posts, post]\n      };\n\n    case ADD_LIKE:\n      return { ...state,\n        posts: state.posts.map(p => p.id === action.id ? { ...p,\n          likes: p.likes + 1\n        } : p)\n      };\n\n    case CHANGE_NEW_POST_TEXT:\n      return { ...state,\n        newPostText: action.text\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default postReducer;\nexport const addPostActionCreator = () => {\n  return {\n    type: ADD_POST\n  };\n};\nexport const addLikeActionCreator = id => {\n  return {\n    type: ADD_LIKE,\n    id: id\n  };\n};\nexport const newPostTextActionCreator = text => {\n  return {\n    type: CHANGE_NEW_POST_TEXT,\n    text: text\n  };\n};","map":{"version":3,"sources":["C:/Users/Vlad/Desktop/lessonwar/hello-world/src/redux/postReducer.js"],"names":["ADD_POST","ADD_LIKE","CHANGE_NEW_POST_TEXT","initialState","posts","id","text","likes","newPostText","postReducer","state","action","type","post","length","map","p","addPostActionCreator","addLikeActionCreator","newPostTextActionCreator"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,UAAjB;AACA,MAAMC,QAAQ,GAAG,UAAjB;AACA,MAAMC,oBAAoB,GAAG,sBAA7B;AAEA,IAAIC,YAAY,GAAG;AACfC,EAAAA,KAAK,EAAE,CACH;AAACC,IAAAA,EAAE,EAAC,CAAJ;AAAOC,IAAAA,IAAI,EAAC,wBAAZ;AAAsCC,IAAAA,KAAK,EAAE;AAA7C,GADG,EAEH;AAACF,IAAAA,EAAE,EAAC,CAAJ;AAAOC,IAAAA,IAAI,EAAC,qBAAZ;AAAmCC,IAAAA,KAAK,EAAE;AAA1C,GAFG,EAGH;AAACF,IAAAA,EAAE,EAAC,CAAJ;AAAOC,IAAAA,IAAI,EAAC,KAAZ;AAAmBC,IAAAA,KAAK,EAAE;AAA1B,GAHG,CADQ;AAMfC,EAAAA,WAAW,EAAE;AANE,CAAnB;;AASA,MAAMC,WAAW,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBP,YAAyB;AAAA,MAAXQ,MAAW;;AAClD,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKZ,QAAL;AACI,UAAIa,IAAI,GAAG;AACPR,QAAAA,EAAE,EAAEK,KAAK,CAACN,KAAN,CAAYU,MADT;AAEPR,QAAAA,IAAI,EAAEI,KAAK,CAACF,WAFL;AAGPD,QAAAA,KAAK,EAAE;AAHA,OAAX;AAKA,aAAM,EACF,GAAGG,KADD;AAEFN,QAAAA,KAAK,EAAE,CAAC,GAAGM,KAAK,CAACN,KAAV,EAAiBS,IAAjB;AAFL,OAAN;;AAKJ,SAAKZ,QAAL;AACE,aAAM,EACF,GAAGS,KADD;AAEFN,QAAAA,KAAK,EAAEM,KAAK,CAACN,KAAN,CAAYW,GAAZ,CAAgBC,CAAC,IAAIA,CAAC,CAACX,EAAF,KAASM,MAAM,CAACN,EAAhB,GAAqB,EAAC,GAAGW,CAAJ;AAAOT,UAAAA,KAAK,EAAES,CAAC,CAACT,KAAF,GAAQ;AAAtB,SAArB,GAAgDS,CAArE;AAFL,OAAN;;AAKF,SAAKd,oBAAL;AACI,aAAM,EACF,GAAGQ,KADD;AAEFF,QAAAA,WAAW,EAAEG,MAAM,CAACL;AAFlB,OAAN;;AAKJ;AACA,aAAOI,KAAP;AAzBJ;AA4BH,CA7BD;;AA+BA,eAAeD,WAAf;AAGA,OAAO,MAAMQ,oBAAoB,GAAG,MAAM;AACtC,SAAO;AAAEL,IAAAA,IAAI,EAAEZ;AAAR,GAAP;AACH,CAFM;AAIP,OAAO,MAAMkB,oBAAoB,GAAIb,EAAD,IAAQ;AACxC,SAAO;AAAEO,IAAAA,IAAI,EAAEX,QAAR;AAAkBI,IAAAA,EAAE,EAAEA;AAAtB,GAAP;AACH,CAFM;AAIP,OAAO,MAAMc,wBAAwB,GAAIb,IAAD,IAAU;AAC9C,SAAO;AAAEM,IAAAA,IAAI,EAAEV,oBAAR;AAA8BI,IAAAA,IAAI,EAAEA;AAApC,GAAP;AACH,CAFM","sourcesContent":["const ADD_POST = 'ADD_POST';\r\nconst ADD_LIKE = 'ADD_LIKE';\r\nconst CHANGE_NEW_POST_TEXT = 'CHANGE_NEW_POST_TEXT';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id:0, text:\"Hello, my dear friend!\", likes: 5},\r\n        {id:1, text:\"Hello, How are You?\", likes: 10},\r\n        {id:2, text:\"Wow\", likes: 0}\r\n    ],\r\n    newPostText: \"\"\r\n}\r\n\r\nconst postReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case ADD_POST: \r\n            let post = {\r\n                id: state.posts.length,\r\n                text: state.newPostText,\r\n                likes: 0\r\n            }\r\n            return{\r\n                ...state,\r\n                posts: [...state.posts, post]\r\n            }\r\n        \r\n        case ADD_LIKE: \r\n          return{\r\n              ...state,\r\n              posts: state.posts.map(p => p.id === action.id ? {...p, likes: p.likes+1} : p)\r\n          }\r\n\r\n        case CHANGE_NEW_POST_TEXT: \r\n            return{\r\n                ...state,\r\n                newPostText: action.text\r\n            }\r\n\r\n        default: \r\n        return state;\r\n\r\n    }\r\n}\r\n\r\nexport default postReducer;\r\n\r\n\r\nexport const addPostActionCreator = () => {\r\n    return { type: ADD_POST}\r\n}\r\n\r\nexport const addLikeActionCreator = (id) => {\r\n    return { type: ADD_LIKE, id: id}\r\n}\r\n\r\nexport const newPostTextActionCreator = (text) => {\r\n    return { type: CHANGE_NEW_POST_TEXT, text: text}\r\n}"]},"metadata":{},"sourceType":"module"}